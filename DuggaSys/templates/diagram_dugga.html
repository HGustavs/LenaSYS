<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <style>
        .container {
            display: flex;
            height: 50.1rem;
            width: 100%;

        }

        .assignment_left {
            margin-top: 15px;
            width: 25%;
            height: 800px;
            background-color: #2c2c2c;
            overflow-y: scroll;
            margin: auto auto;
            margin-left: 5px;

        }

        .resizer {
            background-color: #2c2c2c;
            cursor: ew-resize;
            height: 100%;
            width: 2px;
            margin-top: 15px;
        }

        .canvas_right {
            flex: 1;
            display: flex;
            margin-top: 15px;
            justify-content: space-around;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const resizer = document.getElementById('dragMe');
            const assignment_left = resizer.previousElementSibling;
            const canvas_right = resizer.nextElementSibling;

            // Mouse position now
            let x = 0;
            let y = 0;
            let leftWidth = 0;

            // Mousedown event user drags the resizer
            const mouseDownHandler = function (e) {
                x = e.clientX;
                y = e.clientY;
                leftWidth = assignment_left.getBoundingClientRect().width;

                document.addEventListener('mousemove', mouseMoveHandler);
                document.addEventListener('mouseup', mouseUpHandler);
            };

            const mouseMoveHandler = function (e) {
                // mosue position after the movement
                const dx = e.clientX - x;
                const dy = e.clientY - y;

                const newLeftWidth = ((leftWidth + dx) * 100) / resizer.parentNode.getBoundingClientRect().width;
                assignment_left.style.width = `${newLeftWidth}%`;

                resizer.style.cursor = 'col-resize';
                document.body.style.cursor = 'col-resize';

                assignment_left.style.userSelect = 'none';
                assignment_left.style.pointerEvents = 'none';

                canvas_right.style.userSelect = 'none';
                canvas_right.style.pointerEvents = 'none';
            };

            const mouseUpHandler = function () {
                resizer.style.removeProperty('cursor');
                document.body.style.removeProperty('cursor');

                assignment_left.style.removeProperty('user-select');
                assignment_left.style.removeProperty('pointer-events');

                canvas_right.style.removeProperty('user-select');

                // remove mouse eventlistner
                document.removeEventListener('mousemove', mouseMoveHandler);
                document.removeEventListener('mouseup', mouseUpHandler);
            };

            resizer.addEventListener('mousedown', mouseDownHandler);
        });
    </script>
</head>

<body onbeforeunload="beforeUnloadingPage()">
    <div id="content">
        <div class='feedback-container' style="display: none;">
            <div class='feedback-button' onclick='toggleFeedback()'>
                <h3>Feedback</h3>
            </div>
            <div class="feedback-content">
                <div id="feedbackTable" style="margin-top: -3px;"></div>
            </div>
        </div>
        <div class='instructions-container'>
            <div class='instructions-button' onclick='toggleInstructions(this)'>
                <h3>Instructions</h3>
            </div>
            <div class="instructions-content">
                <p style="margin-left: 4px;">Diagram-duggan går ut på att producera det diagrammet som beskrivs i
                    beskrivningen.</p>
                <p style="margin-left: 4px;">Lägg till element med hjälp av att byta till respective läge och klicka på
                    canvasen.</p>
                <!-- <p style="margin-left: 4px;"><strong>Uppgiftsbeskrivning:</strong></p>
                <p style="margin-left: 4px;" id="assigment-instructions"></p> -->
            </div>
        </div>
        <div class="container">
            <div class="assignment_left">
                <h1 style="text-align: center;">Diagram-duggan</h1>
                <div class="assignment_discrb" style=" margin-left: 2%; color: white; ">
                    <p>Sed ut
                        perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium,
                        totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae
                        dicta sunt explicabo. Nemo enim ipsam voluptatem
                        quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui
                        ratione
                        voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet,
                        consectetur, adipisci velit, sed quia
                        non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut
                        enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut
                        aliquid ex ea commodi consequatur? Quis
                        autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae numquam
                        eius
                        modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima
                        veniam, quis nostrum exercitationem ullam
                        corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure
                        reprehenderit qui in ea voluptate velit esse quam nihil molestiae co numquam eius modi tempora
                        incidunt ut labore et dolore magnam aliquam
                        quaerat voluptatem. veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi
                        ut
                        aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate
                        velit
                        esse quam nihil molestiae numquam
                        eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad
                        minima
                        veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea
                        commodi consequatur? Quis autem vel eum
                        iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae co numquam eius modi
                        tempora
                        incidunt ut labore et dolore magnam aliquam quaerat voluptatem. veniam, quis nostrum
                        exercitationem
                        ullam corporis suscipit laboriosam,
                        nisi ut aliquid ex ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea
                        voluptate
                        velit esse quam nihil molestiae numquam eius modi tempora incidunt ut labore et dolore magnam
                        aliquam quaerat voluptatem. Ut enim
                        ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut
                        aliquid ex
                        ea commodi consequatur? Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse
                        quam
                        nihil molestiae co numquam eius
                        modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.
                    </p>
                </div>
            </div>
            <div class="resizer" id="dragMe"></div>
            <div id="container" class="canvas_right">

                <iframe onclick="canSaveController()" id="diagram-iframe" width="100%" height="800px"
                    src="./diagram.php" title="Diagram"></iframe>

            </div>
            <div id="nextVariantBtn"></div>
        </div>
    </div>
</body>

</html>