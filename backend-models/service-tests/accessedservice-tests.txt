
accessedservice.php
-------------------

-------------------
Test 1: Update a user
Row: 62 - 80
****
Pre-req:
  (checklogin() IS TRUE) && (hasAccess($userid, $cid, ‘w’ ) || isSuperUser($userid)) IS TRUE

****

Send {
    $opt = "UPDATE"
    $username = "username"
    $uid = "uid"
}

To make sure the update of a created user works and what response it will get form the database.
Using SQL-query: UPDATE user SET username=:username WHERE uid=:uid // changing the username
Should display an error message if the update was unable to succeed.

--------------------

Test 2: Update user_course
Row: 83 - 99
****
Pre-req:
  (checklogin() IS TRUE) && (hasAccess($userid, $cid, ‘w’ ) || isSuperUser($userid)) IS TRUE

****

Send {
    $opt = "UPDATE"
    $vers = "vers"
    $cid = "cid"
    $uid = "uid"
}

To see if the updating of user_course works and how the database will respond.
Using the SQL-query: UPDATE user_course SET vers WHERE uid=:uid AND cid=:cid // updating vers

---------------------

Test 3: change user password
Row: 143 - 151
Pre-req:
  (checklogin() IS TRUE) && (hasAccess($userid, $cid, ‘w’ ) || isSuperUser($userid)) IS TRUE

****

Send {
    $opt = "CHPWD"
    $uid = "uid"
    $pwd = "standardPasswordHash($pw)" 
}

To make sure if the user is able to change their password.
Using the SQL-query: UPDATE user SET password=:pwd, requestedpasswordchange=0 WHERE uid=:uid // updating password 
Should display an error message if the requested a password change was unable.

----------------------

Test 4: create a class
Row: 128 - 142
****
Pre-req:
  (checklogin() IS TRUE) && (hasAccess($userid, $cid, ‘w’ ) || isSuperUser($userid)) IS TRUE

****

Send {
    $opt = "ADDCLASS"
    $class = "class"
    $responsible = "responsible"
    $classname = "classname"
    $regcode = "regcode"
    $classcode = "classcode"
    $hp = "hp"
    $tempo = "tempo"
    $hpProgress = "hpProgress"
}

To make sure the inserting of a class works and how the database will response.
Using SQL-query: INSERT INTO class (class, responsible, classname, regcode, classcode, hp, tempo, hpProgress) 
    VALUES (:class, :responsible, :classname, :regcode, :classcode, :hp, :tempo, :hpProgress)
Should display an error message if the insert into database was unable to succeed.

------------------------

Test 5: check if the user was added with username or ssn
Row: 161 - 178
****
Pre-req:
  (checklogin() IS TRUE) && (hasAccess($userid, $cid, ‘w’ ) || isSuperUser($userid)) IS TRUE

****

Send {
  $opt = "ADDUSER"
  $uid = "UNK"
  $username = "username"
  $ssn = "ssn"
}

Will count all the users, to see if a user was added by username or ssn.
SQL-query: SELECT uid FROM user WHERE username=:usernameorssn1 or ssn=:usernameorssn2 // check username or ssn
Should display an error message if the user does not exist in the database.

---------------------------

Test 6: check if the user has an account
Row: 178 - 196
****
Pre-req:
  (checklogin() IS TRUE) && (hasAccess($userid, $cid, ‘w’ ) || isSuperUser($userid)) IS TRUE

****

Send {
  $opt = "ADDUSER"
  $uid = "UNK"
  $ssn = "ssn"
}

Will check if a user has an account
SQL-query: SELECT uid FROM user WHERE ssn=:ssn // check uid

-----------------------------